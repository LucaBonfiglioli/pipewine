{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Pipewine","text":"<p>Pipewine is a complete rewrite of the Pipelime library and intends to serve the same purpose: provide a set of tools to manipulate multi-modal small/medium-sized datasets, mainly for research purposes in the CV/ML domain.</p>"},{"location":"#features","title":"\ud83d\ude80 Features","text":"<ul> <li>Unified access pattern to datasets of various formats, origin and content.</li> <li>Underfolder, a quick and easy filesystem-based dataset format good for small/medium datasets.</li> <li>Common data encoding formats for images, text and metadata.</li> <li>Common operations to manipulate existing datasets.</li> <li>Workflows that transform data in complex DAGs (Directed Acyclic Graph) pipelines.</li> <li>CLI (Command Line Interface) to perform operations without writing a full python script.</li> <li>Extendibility, allowing the user to easily extend the library in many aspects, adding components that seamlessly integrate with the built-in ones:<ul> <li>Add custom dataset formats</li> <li>Add custom data encoding formats</li> <li>Add custom operations on datasets</li> <li>Register components to the CLI</li> </ul> </li> </ul>"},{"location":"#rationale","title":"\u2b50\ufe0f Rationale","text":"<p>Pipewine started from a refactoring of some core components of the Pipelime library, but it soon turned into a complete rewrite that aims at solving some architectural issues of Pipelime, namely:</p> <ul> <li>Dependency Hell: Pipelime had so many of dependencies and contstraints that made it very hard to install in many environments due to conflicts and incompatibilities. Outdated dependencies at the core of the library (e.g. Pydantic 1) make it incompatible with new python packages that use Pydantic 2+. Upgrading these dependencies is currently impossible without breaking everything.</li> <li>Over-reliance on Pydantic: Making most library components inherit from Pydantic <code>BaseModel</code>'s (expecially with the 1.0 major) completely violate type-safety and result in type-checking errors if used with any modern python type-checker like MyPy or PyLance. As a result, IntelliSense and autocompletion do not work properly, requiring the user to fill their code with <code>type: ignore</code> directives. Furthermore, Pydantic runtime validation has some serious performance issues, slowing down the computation significantly (especially before rewriting the whole library in Rust).</li> <li>Lack of typed abstractions: Many components of Pipelime (e.g. <code>SamplesSequence</code>, <code>Sample</code>, <code>SampleStage</code>, <code>PipedSequence</code> and <code>PipelimeCommand</code>) do not carry any information on the type of data they operate on, thus making the usage of Pipelime error-prone: the user cannot rely on the type checker to know what type of data is currently processing. Some later components like <code>Entity</code> and <code>Action</code> aim at mitigating this problem by encapsulating samples inside a Pydantic model, but they ended up being almost unused because they integrate poorly with the rest of the library.</li> <li>Confusing CLI: Pipelime CLI was built with the purpose of being able to directly instantiate any (possibly nested) Pydantic model. This resulted in a very powerful CLI that could do pretty much anything but was also very confusing to use (and even worse to maintain). As a contributor of the pipelime library, I never met anybody able to read and understand the CLI validation errors.</li> <li>Everything is CLI: All Pipelime components are also CLI components. This has the positive effect of eliminating the need to manually write CLI hooks for data operations, but also couples the CLI with the API, requiring everything to be serializable as a list of key-value pairs of (possibly nested) builtin values. We solved this using Pydantic, but was it really worth the cost?</li> <li>Feature Creep: Lots of features like streams, remotes, choixe add a lot of complexity but are mostly unused. </li> </ul> <p>Key development decisions behind Pipewine:</p> <ul> <li>Minimal Dependencies: Rely on the standard library as much as possible, only depend on widely-used and maintained 3rd-party libraries. </li> <li>Type-Safety: The library heavily relies on Python type annotations to achieve a desirable level of type safety at development-time. Runtime type checking is limited to external data validation to not hinder the performance too much. The user should be able to rely on any modern static type checker to notice and correct bugs. </li> <li>Pydantic: Limit the use of Pydantic for stuff that is not strictly external data validation. When serialization and runtime validation are not needed, plain dataclasses are a perfect alternative.</li> <li>CLI Segregation: The CLI is merely a tool to quickly access some of the core library functionalities, no core component should ever depend on it. </li> <li>Limited Compatibility Pipewine should be able to read data written by Pipelime and potentially be used alonside it, but it is not intended to be a backward-compatible update, it is in fact a separate project with a separate development cycle.</li> <li>Feature Pruning Avoid including complex features that no one is going to use, instead, focus on keeping the library easy to extend. </li> </ul>"},{"location":"tutorial/cli/","title":"\ud83d\udda5\ufe0f CLI","text":""},{"location":"tutorial/core/","title":"\ud83d\udca0 Core Concepts","text":""},{"location":"tutorial/core/#intro","title":"Intro","text":""},{"location":"tutorial/data/","title":"\ud83d\uddc3\ufe0f Data Model","text":""},{"location":"tutorial/installation/","title":"\ud83d\udee0\ufe0f Installation","text":""},{"location":"tutorial/installation/#basic-installation","title":"Basic Installation","text":"<p>Before installing make sure you have:</p> <ul> <li>A Python3.12+ interpreter installed on your system.</li> <li>A Virtual Environment, which is highly recommended to avoid messing up your system-level python environment.</li> <li> <p>A relatively up-to-date version of <code>pip</code>. You can upgrade to the latest version using</p> <pre><code>pip install -U pip\n</code></pre> </li> </ul> <p>To install Pipewine, run:</p> <pre><code>pip install pipewine\n</code></pre> <p>You can then verify whether <code>pipewine</code> was correctly installed by calling the CLI help:</p> <pre><code>pipewine --help\n</code></pre> <p>Success</p> <p>In case the installation is successful, you should see a typical Typer CLI help message starting with something like:</p> <pre><code>Usage: pipewine [OPTIONS] COMMAND [ARGS]...  \n</code></pre> <p>Failure</p> <p>In case something went wrong, you should see something like (this may vary based on your shell type):</p> <pre><code>bash: command not found: pipewine\n</code></pre> <p>In this case, do the following:</p> <ol> <li>Check for any <code>pip</code> error messages during installation.</li> <li>Go back through all steps and check whether you followed them correctly.</li> <li>Open a GitHub issue describing the installation problem. </li> </ol>"},{"location":"tutorial/installation/#dev-installation","title":"Dev Installation","text":"<p>If you are a dev and want to install Pipewine for development purposes, it's recommended you follow these steps instead:</p> <ol> <li>Clone the github repo in a folder of your choice:     <pre><code>git clone https://github.com/lucabonfiglioli/pipewine.git\ncd pipewine\n</code></pre></li> <li>Create a new virtual environment:     <pre><code>python3.12 -m venv .venv\nsource .venv/bin/activate \n</code></pre></li> <li>Update pip:     <pre><code>pip install -U pip\n</code></pre></li> <li>Install pipewine in edit mode:     <pre><code>pip install -e .\n</code></pre></li> <li> <p>Install pipewine optional dependencies     <pre><code>pip install .[dev] .[docs]\n</code></pre></p> <p>Warning</p> <p>With some shells (like <code>zsh</code>), you may need to escape the square brackets e.g: <code>.\\[dev\\]</code> or <code>.\\[docs\\]</code>.</p> </li> </ol>"},{"location":"tutorial/operations/","title":"\u2699\ufe0f Operations","text":""},{"location":"tutorial/sinks/","title":"\u2b55 Sinks","text":""},{"location":"tutorial/sources/","title":"\u2733\ufe0f Sources","text":""},{"location":"tutorial/workflows/","title":"\u267b\ufe0f Workflows","text":""}]}